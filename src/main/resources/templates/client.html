<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Facebook - client side integration</title>
</head>
<body>
    Press the following button to start the implicit flow.
    <button id="authorize" type="button">Authorize</button>
    <div id="box"></div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" th:inline="javascript">
    /*<![CDATA[*/

    $(document).ready(function(){
        $('#authorize').click(makeRequest);
    });

    function makeRequest(){
        var auth_endpoint = "https://www.facebook.com/v2.9/dialog/oauth",
            response_type="token",
            client_id="183303286282350",
            redirect_uri = "http://localhost:8080/callback",
            scope = "public_profile user_friends";

        var request_endpoint = auth_endpoint + "?" +
                "response_type=" + response_type + "&" +
                "client_id=" + client_id + "&" +
                "redirect_uri=" + encodeURI(redirect_uri) + "&" +
                "scope=" + encodeURI(scope);

        window.location.href = request_endpoint;
    }
    /*]]>*/
</script>
</body>
</html>

